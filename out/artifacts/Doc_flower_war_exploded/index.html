<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>花博士管理系统-首页</title>
    <link rel="shortcut icon" href="WebContent/Management/img/favicon.ico" type="image/x-icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="WebContent/public/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="WebContent/public/css/bootstrap-4.6.0-dist/css/bootstrap.min.css">

    <link rel="stylesheet" href="WebContent/public/css/animate.min.css">
    <link rel="stylesheet" href="WebContent/Management/css/index.css">


    <style>
        #active{
            color: #043a58;
            background: #fff;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
        }

        #myStat{
            margin: -10px auto;
        }
    </style>


    <script src="WebContent/public/js/jquery-1.12.4.min.js"></script>
    <script src="WebContent/public/css/bootstrap-4.6.0-dist/js/bootstrap.min.js"></script>
    <script src="WebContent/public/js/vue.min.js"></script>
    <script src="WebContent/public/js/axios.min.js"></script>

    <script src="WebContent/Management/js/jquery.circliful.min.js"></script>
    <script type="text/javascript">
        $( document ).ready(function() {
            $('#myStathalf').circliful();
            $('#myStat').circliful();
            $('#myStathalf2').circliful();
            $('#myStat2').circliful();
        });
    </script>
    <link rel="stylesheet" href="WebContent/Client/css/footer.css">
    <link rel="stylesheet" href="WebContent/Management/css/jquery.circliful.css">
    <script src="WebContent/Management/js/index.js"></script>
    <script>

        window.onload = function (){
            searchMessages();
        }
    </script>
</head>
<body>
<div class="sidebar shadow ">
    <div class="logo_content">
        <div class="logo">
            <!--            <img src="../../public/img/logo_white.png" width="50" height="50" alt="">-->
            <div class="logo_name">花博士</div>
        </div>
        <img src="WebContent/public/img/logo_white.png" id="btn" width="50" height="50" alt="">
    </div>
    <ul class="nav_list">
        <li class="active">
            <a href="#" id="active" class="shadow">
                <i class='fa fa-home fa-3x' ></i>
                <span class="links_name">首页</span>
            </a>
            <span class="tooltip">首页</span>
        </li>
        <li>
            <a href="WebContent/Management/html/Orders.html">
                <i class='fa fa-list-alt' ></i>
                <span class="links_name">订单管理</span>
            </a>
            <span class="tooltip">订单管理</span>
        </li>
        <li>
            <a href="WebContent/Management/html/Users.html">
                <i class='fa fa-users' ></i>
                <span class="links_name">用户管理</span>
            </a>
            <span class="tooltip">用户管理</span>
        </li>
        <li>
            <a href="WebContent/Management/html/Flowers.html">
                <i class='fa fa-empire' ></i>
                <span class="links_name">花库管理</span>
            </a>
            <span class="tooltip">花库管理</span>
        </li>
        <li>
            <a href="WebContent/Management/html/Plants.html">
                <i class='fa fa-deviantart' ></i>
                <span class="links_name">绿植管理</span>
            </a>
            <span class="tooltip">绿植管理</span>
        </li>
        <li>
            <a href="WebContent/Management/html/Shops.html">
                <i class='fa fa-vcard' ></i>
                <span class="links_name">店家管理</span>
            </a>
            <span class="tooltip">店家管理</span>
        </li>
        <li>
            <a href="WebContent/Management/html/Blogs.html">
                <i class='fa fa-book' ></i>
                <span class="links_name">文章管理</span>
            </a>
            <span class="tooltip">文章管理</span>
        </li>
        <li>
            <a href="WebContent/Management/html/Messages.html">
                <i class='fa fa-envelope' ></i>
                <span class="links_name">留言管理</span>
            </a>
            <span class="tooltip">留言管理</span>
        </li>
    </ul>
</div>
<div class="home_content">
    <div class="text">
        <div id="root" class="row mx-1">
            <div class="col-lg-4 col-sm-4">
                <div class="card mb-4 main_card animated flipInX">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-9">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">留言总量</p>
                                    <h3 class="font-weight-bolder mb-0">
                                        {{MessagesNum}}
                                    </h3>
                                </div>
                            </div>
                            <div class="col-3 text-end ">
                                <div class="icon icon-shape bg-gradient-primary text-center shadow text-center border-radius-md align-content-center card-icon">
                                    <i class=' fa fa-envelope fa-lg' ></i>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-4  main_card animated flipInX">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-9">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">用户总量</p>
                                    <h3 class="font-weight-bolder mb-0" id="user_num">
                                        {{UserNum}}
                                    </h3>
                                </div>
                            </div>
                            <div class="col-3 text-end ">
                                <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md align-content-center card-icon">
                                    <i class='fa fa-users fa-lg' ></i>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-4">
                <div class="card mb-4 main_card animated flipInX">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-9">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">订单总量</p>
                                    <h3 class="font-weight-bolder mb-0">
                                        {{OrdersNum}}
                                    </h3>
                                </div>
                            </div>
                            <div class="col-3 text-end ">
                                <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md align-content-center card-icon">
                                    <i class='fa fa-list-alt fa-lg' ></i>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-4  main_card animated flipInX">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-9">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">文章总量</p>
                                    <h3 class="font-weight-bolder mb-0">
                                        {{BlogsNum}}
                                    </h3>
                                </div>
                            </div>
                            <div class="col-3 text-end ">
                                <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md align-content-center card-icon">
                                    <i class='fa fa-book fa-lg' ></i>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-4 animated bounceInRight">
                <div class="card mb-4 main_sta">
                    <div class="card-body p-3 text-center">
                        <div id="myStat" data-dimension="250" data-text="67%" data-info="库存剩余" data-width="30" data-fontsize="30" data-percent="67" data-fgcolor="#043a58" data-bgcolor="#eee" data-fill="#ddd"></div>
                    </div>
                </div>
            </div>

            <div class=" col-4">
                <div id="sales" class="card mb-4  main_card animated flipInY">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">销量排名</p>

                                </div>
                                <!--                                <hr class="col-11">-->
                                <div class="sales sales_flower">
                                    <table class="table  col-md-12">
                                        <thead>
                                        <tr>
                                            <th scope="col">排名</th>
                                            <th scope="col">鲜花</th>
                                            <th scope="col">近一个月销量</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>玫瑰</td>
                                            <td>758</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2</th>
                                            <td>康乃馨</td>
                                            <td>537</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">3</th>
                                            <td>郁金香</td>
                                            <td>494</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <div class="sales sales_plants">
                                    <table class="table  col-md-12">
                                        <thead>
                                        <tr>
                                            <th scope="col">排名</th>
                                            <th scope="col">绿植</th>
                                            <th scope="col">近一个月销量</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>吊兰</td>
                                            <td>458</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2</th>
                                            <td>绿萝</td>
                                            <td>372</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">3</th>
                                            <td>铜钱草</td>
                                            <td>291</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class=" col-8">
                <div id="comment" class="card mb-4  main_card animated bounceInUp">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">留言评论</p>

                                </div>
                                <hr class="col-11">
                                <div id="messages">

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class=" col-8">
                <div id="Blogs" class="card mb-4  main_card">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">热门博客</p>

                                </div>
                                <hr class="col-11">
                                <div class="comment col-md-12">
                                    <div class="comment_name ">
                                        <img src="WebContent/Client/img/用户.png" height="30" width="30"/>
                                        <span class="user_name">
                                            ----
                                        </span>
                                        <span class="comment_time mx-3">
                                            57分钟前
                                        </span>
                                    </div>
                                    <div class="blogs_content" >
                                        <span class="blogs_title mx-2">
                                            中秋节适合送什么花给家人或者另一半呢？
                                        </span>
                                        <p class="my-1 text-truncate">
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;中秋节是我国的团圆的节日，而在节日
                                            到来的时候，人们也会想要选择一个适合的礼物送给重要的人，那么2021中秋节
                                            给父母送什么花呢？让我们与老黄历一起了解这个节日吧！
                                        </p>
                                    </div>
                                </div>



                                <div class="comment col-md-12">
                                    <div class="comment_name ">
                                        <img src="WebContent/Client/img/用户.png" height="30" width="30"/>
                                        <span class="user_name">
                                            ----
                                        </span>
                                        <span class="comment_time mx-3">
                                            57分钟前
                                        </span>
                                    </div>
                                    <div class="blogs_content" >
                                        <span class="blogs_title mx-2">
                                            使用鲜花打扮自己的卧室
                                        </span>
                                        <div class="blogs_img">
                                            <img src="WebContent/Management/img/u=2326533772,591990493&fm=26&fmt=auto.webp" class="col-md-3" />
                                            <img src="WebContent/Management/img/u=3498847879,3390794141&fm=26&fmt=auto.webp" class="col-md-3" />
                                            <img src="WebContent/Management/img/u=2326533772,591990493&fm=26&fmt=auto.webp" class="col-md-3" />

                                        </div>
                                    </div>
                                </div>


                                <div class="comment col-md-12">
                                    <div class="comment_name ">
                                        <img src="WebContent/Client/img/用户.png" height="30" width="30"/>
                                        <span class="user_name">
                                            ----
                                        </span>
                                        <span class="comment_time mx-3">
                                            57分钟前
                                        </span>
                                    </div>
                                    <div class="blogs_content" >
                                        <span class="blogs_title mx-2">
                                            实用小技巧：如何为家中的鲜花或者绿植松土
                                        </span>
                                        <p class="my-1 text-truncate">
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;养花的过程中松土是必须的，有的土壤板结或盆沿有缝隙，都是需要用疏土来解决的，而且可以增加土壤的透水和排水性，让植物根系长得更好。今天就和大叔一起学习学习吧！
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class=" col-4">
                <div class="flower_data card mb-4  main_card animated flipInY">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="numbers">
                                    <p class="text-sm text-danger mb-0 text-capitalize font-weight-bold">库存紧张</p>

                                </div>
                                <!--                                <hr class="col-11">-->
                                <div class="sales sales_flower">
                                    <table class="table  col-md-12">
                                        <thead>
                                        <tr>
                                            <th scope="col">编号</th>
                                            <th scope="col">名称</th>
                                            <th scope="col">库存量</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>玫瑰-卡罗拉</td>
                                            <td>758</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2</th>
                                            <td>康乃馨</td>
                                            <td>537</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">3</th>
                                            <td>郁金香</td>
                                            <td>494</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="flower_data card mb-4  main_card animated flipInY">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="numbers">
                                    <p class="text-sm text-warning mb-0 text-capitalize font-weight-bold">库存堆积</p>

                                </div>
                                <!--                                <hr class="col-11">-->

                                <div class="sales sales_plants">
                                    <table class="table  col-md-12">
                                        <thead>
                                        <tr>
                                            <th scope="col">编号</th>
                                            <th scope="col">名称</th>
                                            <th scope="col">库存量</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>吊兰</td>
                                            <td>458</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2</th>
                                            <td>绿萝</td>
                                            <td>372</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">3</th>
                                            <td>铜钱草</td>
                                            <td>291</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="mt-5 pt-3">
        <div class="footer_main mx-auto col-md-6 clearfix">
            <div class="footer_main_icon text-center py-2">
                <img src="WebContent/public/img/logo_white.png" height="90" width="90" alt="."/>
                <div class="footer_main_text col-md-8 text-center py-2 float-right">
                    <span class="footer_main_text_name">
                        花博士线上花城
                    </span>
                    <br>
                    <span class="footer_main_text_email">
                        https://github.com/Doc-flowers/Doc.flowers.Web.git
                    </span>
                    <br>
                    <span class="footer_main_text_company">
                        @2021 花悦文化有限公司
                    </span>
                </div>
            </div>
        </div>
    </footer>
</div>
<!--<footer>-->
<!--    <p>dfdsaf</p>-->
<!--</footer>-->

<script>
    let btn = document.querySelector("#btn");
    let sidebar = document.querySelector(".sidebar");
    let searchBtn = document.querySelector(".bx-search");

    btn.onclick = function() {
        sidebar.classList.toggle("active");
        if(btn.classList.contains("bx-menu")){
            btn.classList.replace("bx-menu" , "bx-menu-alt-right");
        }else{
            btn.classList.replace("bx-menu-alt-right", "bx-menu");
        }
    }
    searchBtn.onclick = function() {
        sidebar.classList.toggle("active");
    }
</script>

<script>
    Vue.config.productionTip = false

    new Vue({
        el:'#root',
        data:{
            UserNum:"",
            OrdersNum:"",
            BlogsNum:"",
            MessagesNum:""
        },
        mounted(){
            this.searchUserNum()
            this.searchOrdersNum()
            this.searchBlogsNum()
            this.searchMessagesNum()
        },
        methods:{
            searchUserNum:function () {
                var that = this;        //保存this
                axios.post('../../../CustomerServlet?type=search&method=search&name=' + "")
                    .then(function (response) {
                        console.log(response);
                        that.UserNum = response.data.length
                    })
                    .catch(function (err) {
                    })
            },
            searchOrdersNum:function () {
                var that = this;        //保存this
                axios.post('../../../OrdersServlet?type=search&method=search&tel=' + "")
                    .then(function (response) {
                        console.log(response);
                        that.OrdersNum = response.data.length
                    })
                    .catch(function (err) {
                    })
            },
            searchBlogsNum:function () {
                var that = this;        //保存this
                axios.post('../../../BlogsServlet?type=search&method=search&name=' + "")
                    .then(function (response) {
                        console.log(response);
                        that.BlogsNum = response.data.length
                    })
                    .catch(function (err) {
                    })
            },
            searchMessagesNum:function () {
                var that = this;        //保存this
                axios.post('../../../MessagesServlet?type=search&method=search&name=' + "")
                    .then(function (response) {
                        console.log(response);
                        that.MessagesNum = response.data.length
                    })
                    .catch(function (err) {
                    })
            },
        }
    })
</script>

</body>
</html>
