<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>花博士管理系统-首页</title>
    <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../public/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../public/css/bootstrap-4.6.0-dist/css/bootstrap.min.css">

    <link rel="stylesheet" href="../../public/css/animate.min.css">
    <link rel="stylesheet" href="../css/index.css">


    <style>

        .animated {
            -webkit-animation-duration: .8s;
            animation-duration: .8s;
            -webkit-animation-fill-mode: both;
            animation-fill-mode: both;
        }

        #active{
            color: #043a58;
            background: #fff;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
        }

        #myStat{
            margin: -10px auto;
        }


        .toggle-button-cover
        {
            display: table-cell;
            position: relative;
            width: 200px;
            height: 30px;
            box-sizing: border-box;
        }

        .button-cover
        {
            height: 35px;
            background-color: #fff;
            border-radius: 4px;
        }


        .button-cover, .knobs, .layer
        {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
        }

        .button
        {
            position: relative;
            top: 50%;
            width: 140px;
            height: 40px;
            margin: -25px auto 0 auto;
            overflow: hidden;
        }

        .button.r, .button.r .layer
        {
            border-radius: 100px;
        }

        .button.b2
        {
            border-radius: 2px;
        }

        .checkbox
        {
            position: relative;
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            opacity: 0;
            cursor: pointer;
            z-index: 3;
        }

        .knobs
        {
            z-index: 2;
        }

        .layer
        {
            width: 100%;
            background-color: #ebf7fc;
            transition: 0.3s ease all;
            z-index: 1;
        }

        /* Button 13 */
        .button-13 .knobs:before, .button-13 .knobs:after, .button-13 .knobs span
        {
            position: absolute;
            top: 3px;
            width: 70px;
            height: 36px;
            font-size: 10px;
            font-weight: bold;
            text-align: center;
            line-height: 1;
            padding: 9px 4px;
            border-radius: 2px;
            transition: 0.3s ease all;
        }

        .button-13 .knobs:before, .button-13 .knobs:after
        {
            color: #4e4e4e;
            z-index: 1;
        }

        .button-13 .knobs:before
        {
            content: '花卉';
            font-size: 14px;
            color: #d4247b;
            left: 4px;
            top: 5px;
        }

        .button-13 .knobs:after
        {
            content: '绿植';
            font-size: 14px;
            color: #168023;
            right: 4px;
            top: 5px;

        }

        .button-13 .knobs span
        {
            width: 65px;
            left: 70px;
            background-color: #d4247b;
            z-index: 2;
        }

        .button-13 .checkbox:checked + .knobs span
        {
            left: 4px;
            background-color: #168023;
        }

        .button-13 .checkbox:checked ~ .layer
        {
            background-color: #fcebeb;
        }

    </style>


    <script src="../../public/js/jquery-1.12.4.min.js"></script>
    <script src="../../public/css/bootstrap-4.6.0-dist/js/bootstrap.min.js"></script>
    <script src="../../public/js/vue.min.js"></script>
    <script src="../../public/js/axios.min.js"></script>

    <script src="../js/jquery.circliful.min.js"></script>
    <script type="text/javascript">
        $( document ).ready(function() {
            setTimeout(function () {
                $('#myStathalf').circliful();
            }, 500);
            setTimeout(function () {
                $('#myStat').circliful();
            }, 500);
            setTimeout(function () {
                $('#myStathalf2').circliful();
            }, 500);
            setTimeout(function () {
                $('#myStat2').circliful();
            }, 500);
        });
    </script>
    <link rel="stylesheet" href="../../Client/css/footer.css">
    <link rel="stylesheet" href="../css/jquery.circliful.css">
    <script src="../js/index.js"></script>

    <script>

        window.onload = function (){
            searchMessages();
            setTimeout(JudgeMan,50);
            setTimeout(stock_low_search_flower,300)
            setTimeout(stock_high_search_flower,200)
            setTimeout(circle_plant,200)
        }

        function JudgeMan(){
            if(getCookie("man_name") != ""){
                console.log("yes")
            }else {
                window.location = "../../../index.html"
            }
        }

        function getCookie(c_name)
        {
            if (document.cookie.length>0)
            {
                c_start=document.cookie.indexOf(c_name + "=")
                if (c_start!=-1)
                {
                    c_start=c_start + c_name.length+1
                    c_end=document.cookie.indexOf(";",c_start)
                    if (c_end==-1) c_end=document.cookie.length
                    return unescape(document.cookie.substring(c_start,c_end))
                }
            }
            return ""
        }


        // 库存过少检测
        function stock_low_switch(){
            var stock_low_name = document.getElementById("checkbox").value
            if(stock_low_name == "plants"){
                document.getElementById("stock_low_main").classList.add('fadeInLeft')

                stock_low_search_flower()
                document.getElementById("checkbox").value = 'flowers'
                setTimeout(stock_low_mainremoveaniLeft,800)
            }else if(stock_low_name == "flowers"){
                document.getElementById("stock_low_main").classList.add('fadeInRight')
                stock_low_search_plants()
                document.getElementById("checkbox").value = 'plants'
                setTimeout(stock_low_mainremoveaniRight,800)
            }
            console.log(stock_low_name)
        }

        function stock_low_mainremoveaniRight(){
            document.getElementById("stock_low_main").classList.remove('fadeInRight')
        }
        function stock_low_mainremoveaniLeft(){
            document.getElementById("stock_low_main").classList.remove('fadeInLeft')
        }

        function stock_low_search_flower(){
            var url = "../../../FlowersServlet";
            if (window.XMLHttpRequest)
                req = new XMLHttpRequest();
            else if (window.ActiveXObject)
                req = new ActiveXObject("Microsoft.XMLHTTP");
            if (req) {
                //采用POST方式，异步传输
                req.open("post", url, true);
                //POST方式，必须加入如下头信息设定
                req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                req.onreadystatechange = stock_low_search_flowerComplete;
                req.send("type=sale_stock_search&flag=stock");
            }
        }

        function stock_low_search_flowerComplete(){
            if (req.readyState == 4 && req.status == 200) {
                var stock_low_plants = document.getElementById("stock_low");


                var json =  JSON.parse(req.responseText);//转换为json对象
                stock_low_plants.innerHTML = ""
                for(i=0; i<3; i++) {
                    stock_low_plants.innerHTML += '<tr>\n' +
                        '                       <th scope="row">'+ json[i].flower_id +'</th>\n' +
                        '                       <td>'+ json[i].flower_name +'</td>\n' +
                        '                       <td>'+ json[i].flower_stock +'</td>\n' +
                        '                   </tr>'
                }

                for (i=0;i<json.length;i++){
                    document.getElementById("circle_stock").value = parseInt(document.getElementById("circle_stock").value) + json[i].flower_stock
                }
                document.getElementById("circle_all").value = parseInt(document.getElementById("circle_all").value) + json.length * 1000
                console.log(document.getElementById("circle_all").value)

            }
        }

        function circle_plant(){
            var url = "../../../PlantsServlet";
            if (window.XMLHttpRequest)
                req = new XMLHttpRequest();
            else if (window.ActiveXObject)
                req = new ActiveXObject("Microsoft.XMLHTTP");
            if (req) {
                //采用POST方式，异步传输
                req.open("post", url, true);
                //POST方式，必须加入如下头信息设定
                req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                req.onreadystatechange = circle_plantComplete;
                req.send("type=sale_stock_search&flag=stock");
            }
        }

        function circle_plantComplete(){
            if (req.readyState == 4 && req.status == 200) {
                var json =  JSON.parse(req.responseText);//转换为json对象

                for (i=0;i<json.length;i++){
                    document.getElementById("circle_stock").value = parseInt(document.getElementById("circle_stock").value) + json[i].plantstock
                }
                document.getElementById("circle_all").value = parseInt(document.getElementById("circle_all").value) + json.length * 1000
                console.log(document.getElementById("circle_all").value)

                var percent = parseInt((document.getElementById("circle_stock").value / document.getElementById("circle_all").value) * 100)
                console.log(percent)
                document.getElementById("myStat").setAttribute("data-text",percent + "%")
                document.getElementById("myStat").setAttribute("data-percent",percent)


            }
        }

        function stock_low_search_plants(){
            var url = "../../../PlantsServlet";
            if (window.XMLHttpRequest)
                req = new XMLHttpRequest();
            else if (window.ActiveXObject)
                req = new ActiveXObject("Microsoft.XMLHTTP");
            if (req) {
                //采用POST方式，异步传输
                req.open("post", url, true);
                //POST方式，必须加入如下头信息设定
                req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                req.onreadystatechange = stock_low_search_plantsComplete;
                req.send("type=sale_stock_search&flag=stock");
            }
        }
        function stock_low_search_plantsComplete(){
            if (req.readyState == 4 && req.status == 200) {
                var stock_low_plants = document.getElementById("stock_low");
                var json =  JSON.parse(req.responseText);//转换为json对象
                stock_low_plants.innerHTML = ""
                for(i=0; i<3; i++) {
                    stock_low_plants.innerHTML += '<tr>\n' +
                        '                       <th scope="row">'+ json[i].plantid +'</th>\n' +
                        '                       <td>'+ json[i].plantname +'</td>\n' +
                        '                       <td>'+ json[i].plantstock +'</td>\n' +
                        '                   </tr>'
                }

                for (i=0;i<json.length;i++){
                    document.getElementById("circle_stock").value = parseInt(document.getElementById("circle_stock").value) + json[i].plantstock
                }
                document.getElementById("circle_all").value = parseInt(document.getElementById("circle_all").value) + json.length * 1000
            }
        }

        // 库存堆积检测
        function stock_high_switch(){
            var stock_high_name = document.getElementById("checkbox2").value
            if(stock_high_name == "plants"){
                document.getElementById("stock_high_main").classList.add('fadeInLeft')

                stock_high_search_flower()
                document.getElementById("checkbox2").value = 'flowers'
                setTimeout(stock_high_mainremoveaniLeft,800)
            }else if(stock_high_name == "flowers"){
                document.getElementById("stock_high_main").classList.add('fadeInRight')

                stock_high_search_plants()
                document.getElementById("checkbox2").value = 'plants'
                setTimeout(stock_high_mainremoveaniRight,800)

            }
            console.log(stock_high_name)
        }

        function stock_high_mainremoveaniRight(){
            document.getElementById("stock_high_main").classList.remove('fadeInRight')
        }
        function stock_high_mainremoveaniLeft(){
            document.getElementById("stock_high_main").classList.remove('fadeInLeft')
        }


        function stock_high_search_flower(){
            var url = "../../../FlowersServlet";
            if (window.XMLHttpRequest)
                req1 = new XMLHttpRequest();
            else if (window.ActiveXObject)
                req1 = new ActiveXObject("Microsoft.XMLHTTP");
            if (req1) {
                //采用POST方式，异步传输
                req1.open("post", url, true);
                //POST方式，必须加入如下头信息设定
                req1.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                req1.onreadystatechange = stock_high_search_flowerComplete;
                req1.send("type=sale_stock_search&flag=stock");
            }
        }

        function stock_high_search_flowerComplete(){
            if (req1.readyState == 4 && req1.status == 200) {
                var stock_high_flowers = document.getElementById("stock_high");
                var json =  JSON.parse(req1.responseText);//转换为json对象
                stock_high_flowers.innerHTML = ""
                for(i=json.length-1; i > json.length - 4; i--) {
                    stock_high_flowers.innerHTML += '<tr>\n' +
                        '                       <th scope="row">'+ json[i].flower_id +'</th>\n' +
                        '                       <td>'+ json[i].flower_name +'</td>\n' +
                        '                       <td>'+ json[i].flower_stock +'</td>\n' +
                        '                   </tr>'
                }
            }
        }

        function stock_high_search_plants(){
            var url = "../../../PlantsServlet";
            if (window.XMLHttpRequest)
                req2 = new XMLHttpRequest();
            else if (window.ActiveXObject)
                req2 = new ActiveXObject("Microsoft.XMLHTTP");
            if (req2) {
                //采用POST方式，异步传输
                req2.open("post", url, true);
                //POST方式，必须加入如下头信息设定
                req2.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                req2.onreadystatechange = stock_high_search_plantsComplete;
                req2.send("type=sale_stock_search&flag=stock");
            }
        }
        function stock_high_search_plantsComplete(){
            if (req2.readyState == 4 && req2.status == 200) {
                var stock_high_plants = document.getElementById("stock_high");
                var json =  JSON.parse(req2.responseText);//转换为json对象
                stock_high_plants.innerHTML = ""
                for(i=json.length - 1; i > json.length - 4; i--) {
                    stock_high_plants.innerHTML += '<tr>\n' +
                        '                       <th scope="row">'+ json[i].plantid +'</th>\n' +
                        '                       <td>'+ json[i].plantname +'</td>\n' +
                        '                       <td>'+ json[i].plantstock +'</td>\n' +
                        '                   </tr>'
                }
            }
        }
    </script>
</head>
<body>
<div class="sidebar shadow ">
    <div class="logo_content">
        <div class="logo">
            <!--            <img src="../../public/img/logo_white.png" width="50" height="50" alt="">-->
            <div class="logo_name">花博士</div>
        </div>
        <img src="../../public/img/logo_white.png" id="btn" width="50" height="50" alt="">
    </div>
    <ul class="nav_list">
        <li class="active">
            <a href="#" id="active" class="shadow">
                <i class='fa fa-home fa-3x' ></i>
                <span class="links_name">首页</span>
            </a>
            <span class="tooltip">首页</span>
        </li>
        <li>
            <a href="Orders.html">
                <i class='fa fa-list-alt' ></i>
                <span class="links_name">订单管理</span>
            </a>
            <span class="tooltip">订单管理</span>
        </li>
        <li>
            <a href="Users.html">
                <i class='fa fa-users' ></i>
                <span class="links_name">用户管理</span>
            </a>
            <span class="tooltip">用户管理</span>
        </li>
        <li>
            <a href="Flowers.html">
                <i class='fa fa-empire' ></i>
                <span class="links_name">花库管理</span>
            </a>
            <span class="tooltip">花库管理</span>
        </li>
        <li>
            <a href="Plants.html">
                <i class='fa fa-deviantart' ></i>
                <span class="links_name">绿植管理</span>
            </a>
            <span class="tooltip">绿植管理</span>
        </li>
        <li>
            <a href="Shops.html">
                <i class='fa fa-vcard' ></i>
                <span class="links_name">店家管理</span>
            </a>
            <span class="tooltip">店家管理</span>
        </li>
        <li>
            <a href="Blogs.html">
                <i class='fa fa-book' ></i>
                <span class="links_name">文章管理</span>
            </a>
            <span class="tooltip">文章管理</span>
        </li>
        <li>
            <a href="Messages.html">
                <i class='fa fa-envelope' ></i>
                <span class="links_name">留言管理</span>
            </a>
            <span class="tooltip">留言管理</span>
        </li>
    </ul>
</div>
<div class="home_content">
    <div class="text">
        <div id="root" class="row mx-1">
            <div class="col-lg-4 col-sm-4">
                <div class="card mb-4 main_card animated flipInX">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-9">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">留言总量</p>
                                    <h3 class="font-weight-bolder mb-0">
                                        {{MessagesNum}}
                                    </h3>
                                </div>
                            </div>
                            <div class="col-3 text-end ">
                                <div class="icon icon-shape bg-gradient-primary text-center text-center border-radius-md align-content-center card-icon">
                                    <i class=' fa fa-envelope fa-lg' ></i>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-4  main_card animated flipInX">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-9">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">用户总量</p>
                                    <h3 class="font-weight-bolder mb-0" id="user_num">
                                        {{UserNum}}
                                    </h3>
                                </div>
                            </div>
                            <div class="col-3 text-end ">
                                <div class="icon icon-shape bg-gradient-primary  text-center border-radius-md align-content-center card-icon">
                                    <i class='fa fa-users fa-lg' ></i>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-4">
                <div class="card mb-4 main_card animated flipInX">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-9">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">订单总量</p>
                                    <h3 class="font-weight-bolder mb-0">
                                        {{OrdersNum}}
                                    </h3>
                                </div>
                            </div>
                            <div class="col-3 text-end ">
                                <div class="icon icon-shape bg-gradient-primary  text-center border-radius-md align-content-center card-icon">
                                    <i class='fa fa-list-alt fa-lg' ></i>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-4  main_card animated flipInX">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-9">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">文章总量</p>
                                    <h3 class="font-weight-bolder mb-0">
                                        {{BlogsNum}}
                                    </h3>
                                </div>
                            </div>
                            <div class="col-3 text-end ">
                                <div class="icon icon-shape bg-gradient-primary  text-center border-radius-md align-content-center card-icon">
                                    <i class='fa fa-book fa-lg' ></i>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-4 animated bounceInRight">
                <div class="card mb-4 main_sta">
                    <div class="card-body p-3 text-center">
                        <input type="hidden" id="circle_stock" value="0" >
                        <input type="hidden" id="circle_all" value="0" >
                        <div id="myStat" data-dimension="250" data-text="67%" data-info="库存剩余" data-width="30" data-fontsize="30" data-percent="67" data-fgcolor="#043a58" data-bgcolor="#eee" data-fill="#ddd"></div>
                    </div>
                </div>
            </div>

            <div class="col-sm-10 col-lg-4">
                <div id="sales" class="card mb-4  main_card animated flipInY">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">销量排名</p>

                                </div>
                                <!--                                <hr class="col-11">-->
                                <div class="sales sales_flower">
                                    <table class="table  col-md-12">
                                        <thead>
                                        <tr>
                                            <th scope="col">排名</th>
                                            <th scope="col">鲜花</th>
                                            <th scope="col">近一个月销量</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th scope="row">1</th>
                                                <td>{{FlowersSaleList[0].flower_name}}</td>
                                                <td>{{FlowersSaleList[0].flower_sale}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">2</th>
                                                <td>{{FlowersSaleList[1].flower_name}}</td>
                                                <td>{{FlowersSaleList[1].flower_sale}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">3</th>
                                                <td>{{FlowersSaleList[2].flower_name}}</td>
                                                <td>{{FlowersSaleList[2].flower_sale}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <div class="sales sales_plants">
                                    <table class="table  col-md-12">
                                        <thead>
                                        <tr>
                                            <th scope="col">排名</th>
                                            <th scope="col">绿植</th>
                                            <th scope="col">近一个月销量</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th scope="row">1</th>
                                                <td>{{PlantsSaleList[0].plantname}}</td>
                                                <td>{{PlantsSaleList[0].plantsale}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">2</th>
                                                <td>{{PlantsSaleList[1].plantname}}</td>
                                                <td>{{PlantsSaleList[1].plantsale}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">3</th>
                                                <td>{{PlantsSaleList[2].plantname}}</td>
                                                <td>{{PlantsSaleList[2].plantsale}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-12  col-xl-8">
                <div id="comment" class="card mb-4  main_card animated bounceInUp">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">留言评论</p>

                                </div>
                                <hr class="col-11">
                                <div id="messages">

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class=" col-sm-12  col-xl-8">
                <div id="Blogs" class="card mb-4  main_card">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold">热门博客</p>

                                </div>
                                <hr class="col-11">
                                <div class="comment col-md-12">
                                    <div class="comment_name ">
                                        <img src="../../Client/img/用户.png" height="30" width="30"/>
                                        <span class="user_name">
                                            ----
                                        </span>
                                        <span class="comment_time mx-3">
                                            57分钟前
                                        </span>
                                    </div>
                                    <div class="blogs_content" >
                                        <span class="blogs_title mx-2">
                                            中秋节适合送什么花给家人或者另一半呢？
                                        </span>
                                        <p class="my-1 text-truncate">
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;中秋节是我国的团圆的节日，而在节日
                                            到来的时候，人们也会想要选择一个适合的礼物送给重要的人，那么2021中秋节
                                            给父母送什么花呢？让我们与老黄历一起了解这个节日吧！
                                        </p>
                                    </div>
                                </div>
                                <div class="comment col-md-12">
                                    <div class="comment_name ">
                                        <img src="../../Client/img/用户.png" height="30" width="30"/>
                                        <span class="user_name">
                                            ----
                                        </span>
                                        <span class="comment_time mx-3">
                                            57分钟前
                                        </span>
                                    </div>
                                    <div class="blogs_content" >
                                        <span class="blogs_title mx-2">
                                            使用鲜花打扮自己的卧室
                                        </span>
                                        <div class="blogs_img">
                                            <img src="../img/u=2326533772,591990493&fm=26&fmt=auto.webp" class="col-md-3" />
                                            <img src="../img/u=3498847879,3390794141&fm=26&fmt=auto.webp" class="col-md-3" />
                                            <img src="../img/u=2326533772,591990493&fm=26&fmt=auto.webp" class="col-md-3" />

                                        </div>
                                    </div>
                                </div>


                                <div class="comment col-md-12">
                                    <div class="comment_name ">
                                        <img src="../../Client/img/用户.png" height="30" width="30"/>
                                        <span class="user_name">
                                            ----
                                        </span>
                                        <span class="comment_time mx-3">
                                            57分钟前
                                        </span>
                                    </div>
                                    <div class="blogs_content" >
                                        <span class="blogs_title mx-2">
                                            实用小技巧：如何为家中的鲜花或者绿植松土
                                        </span>
                                        <p class="my-1 text-truncate">
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;养花的过程中松土是必须的，有的土壤板结或盆沿有缝隙，都是需要用疏土来解决的，而且可以增加土壤的透水和排水性，让植物根系长得更好。今天就和大叔一起学习学习吧！
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class=" col-sm-12  col-xl-4">
                <div class="stock_low card mb-4  main_card animated flipInY">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="numbers clearfix">
                                    <p class="text-sm text-danger mb-0 text-capitalize font-weight-bold float-left">库存紧张</p>

                                    <div class="toggle-button-cover float-right">
                                        <div class="button-cover">
                                            <div class="button b2 button-13" id="">
                                                <input id="checkbox" type="checkbox" class="checkbox" value="flowers" onclick="stock_low_switch()">
                                                <div class="knobs">
                                                    <span></span>
                                                </div>
                                                <div class="layer"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--                                <hr class="col-11">-->
                                <div id="stock_low_main" class="sales sales_flower animated">
                                    <table class="table  col-md-12">
                                        <thead>
                                        <tr>
                                            <th scope="col">编号</th>
                                            <th scope="col">名称</th>
                                            <th scope="col">库存量</th>
                                        </tr>
                                        </thead>
                                        <tbody id="stock_low" class="animated">

                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="flower_data card mb-4  main_card animated flipInY">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="numbers clearfix">
                                    <p class="text-sm text-warning mb-0 text-capitalize float-left font-weight-bold">库存堆积</p>

                                    <div class="toggle-button-cover float-right">
                                        <div class="button-cover">
                                            <div class="button b2 button-13">
                                                <input id="checkbox2" type="checkbox" class="checkbox" value="flowers" onclick="stock_high_switch()">
                                                <div class="knobs">
                                                    <span></span>
                                                </div>
                                                <div class="layer"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--                                <hr class="col-11">-->

                                <div id="stock_high_main" class="sales sales_plants animated">
                                    <table class="table  col-md-12">
                                        <thead>
                                        <tr>
                                            <th scope="col">编号</th>
                                            <th scope="col">名称</th>
                                            <th scope="col">库存量</th>
                                        </tr>
                                        </thead>
                                        <tbody id="stock_high">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="mt-5 pt-3" style="height: 140px">
        <div class="footer_main mx-auto col-md-6 clearfix">
            <div class="footer_main_icon text-center py-2">
                <img src="../../public/img/logo_white.png" height="90" width="90" alt="."/>
                <div class="footer_main_text col-md-8 text-center py-2 float-right">
                    <span class="footer_main_text_name">
                        花博士线上花城
                    </span>
                    <br>
                    <span class="footer_main_text_email">
                        https://github.com/Doc-flowers/Doc.flowers.Web.git
                    </span>
                    <br>
                    <span class="footer_main_text_company">
                        @2021 花悦文化有限公司
                    </span>
                </div>
            </div>
        </div>
    </footer>
</div>
<!--<footer>-->
<!--    <p>dfdsaf</p>-->
<!--</footer>-->

<script>
    let btn = document.querySelector("#btn");
    let sidebar = document.querySelector(".sidebar");
    let searchBtn = document.querySelector(".bx-search");

    btn.onclick = function() {
        sidebar.classList.toggle("active");
        if(btn.classList.contains("bx-menu")){
            btn.classList.replace("bx-menu" , "bx-menu-alt-right");
        }else{
            btn.classList.replace("bx-menu-alt-right", "bx-menu");
        }
    }
    searchBtn.onclick = function() {
        sidebar.classList.toggle("active");
    }
</script>

<script>
    Vue.config.productionTip = false

    new Vue({
        el:'#root',
        data:{
            UserNum:"",
            OrdersNum:"",
            BlogsNum:"",
            MessagesNum:"",
            PlantsSaleList:[],
            FlowersSaleList:[],
            PlantsStockList:[],

        },
        mounted(){
            this.searchUserNum()
            this.searchOrdersNum()
            this.searchBlogsNum()
            this.searchMessagesNum()
            this.searchPlantsSale()
            this.searchFlowersSale()
            this.searchPlantsStock()
        },
        methods:{
            searchUserNum:function () {
                var that = this;        //保存this
                axios.post('../../../CustomerServlet?type=search&method=search&name=' + "")
                    .then(function (response) {
                        console.log(response);
                        that.UserNum = response.data.length
                    })
                    .catch(function (err) {
                    })
            },
            searchOrdersNum:function () {
                var that = this;        //保存this
                axios.post('../../../OrdersServlet?type=search&method=tel&tel=' + "")
                    .then(function (response) {
                        console.log(response);
                        that.OrdersNum = response.data.length
                    })
                    .catch(function (err) {
                    })
            },
            searchBlogsNum:function () {
                var that = this;        //保存this
                axios.post('../../../BlogsServlet?type=search&method=search&name=' + "")
                    .then(function (response) {
                        console.log(response);
                        that.BlogsNum = response.data.length
                    })
                    .catch(function (err) {
                    })
            },
            searchMessagesNum:function () {
                var that = this;        //保存this
                axios.post('../../../MessagesServlet?type=search&method=search&name=' + "")
                    .then(function (response) {
                        console.log(response);
                        that.MessagesNum = response.data.length
                    })
                    .catch(function (err) {
                    })
            },

            searchPlantsSale:function () {
                var that = this;        //保存this
                axios.post('../../../PlantsServlet?type=sale_stock_search&flag=sale')
                    .then(function (response) {
                        console.log(response);
                        that.PlantsSaleList = response.data
                    })
                    .catch(function (err) {
                    })
            },
            searchFlowersSale:function () {
                var that = this;        //保存this
                axios.post('../../../FlowersServlet?type=sale_stock_search&flag=sale')
                    .then(function (response) {
                        console.log(response);
                        that.FlowersSaleList = response.data
                    })
                    .catch(function (err) {
                    })
            },

            searchPlantsStock:function () {
                var that = this;        //保存this
                axios.post('../../../PlantsServlet?type=sale_stock_search&flag=stock')
                    .then(function (response) {
                        console.log(response);
                        that.PlantsStockList = response.data
                    })
                    .catch(function (err) {
                    })
            },

        }
    })

</script>

</body>
</html>
